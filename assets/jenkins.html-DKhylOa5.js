import{_ as t,r as o,o as r,c as l,a as p,b as s,e as a,d as i}from"./app-oR4Dtrgs.js";const g="/assets/img_70-D5kcMsGO.png",c="/assets/img_71-CAJxM_mA.png",d="/assets/img_72-DJO5vl3R.png",m="/assets/img_73-Bg-hEoTg.png",u="/assets/img_74-GsKDTuZU.png",k="/assets/img_75-xJH5W3Wp.png",A="/assets/img_76-DOYYeetp.png",f="/assets/img_77-vNgWxlV6.png",h="/assets/img_78-5XuYYm9J.png",b="data:image/png;base64,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",v="/assets/img_80-KVLZRsUo.png",_="/assets/img_81-ChmPlK4w.png",j="/assets/img_82-CmaA7jK6.png",x="/assets/img_83-dnR9h8Er.png",y="/assets/img_84-0-zDTW_a.png",P="/assets/img_85-CTetLEzS.png",J="/assets/img_86-DylMqVt-.png",D="/assets/img_87-DL44WHx-.png",z="/assets/img_88-BRwlDOgr.png",T="/assets/img_89-C4ZUjc-l.png",B="/assets/img_90-6hB_EkrS.png",S="/assets/img_91-DInSTTJ_.png",H="/assets/img_92-D4bczh-C.png",X="/assets/img_93-BTYU6eZd.png",O="/assets/img_94-R6Vf0qPP.png",L="/assets/img_95-D4h4kUmU.png",w="/assets/img_96-msoxvSCL.png",I="/assets/img_97-f1MOQT6M.png",Z="/assets/img_98-BGNX7IEL.png",E="data:image/png;base64,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",G="/assets/img_100-CjV1um0X.png",N={},C={href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"},M={href:"http://localhost:8080/job/jenkinsSpringBootDemo/build?token=token_demo2",target:"_blank",rel:"noopener noreferrer"},R={href:"http://localhost:8080/job/jenkinsSpringBootDemo/build?token=token_demo2%EF%BC%8C",target:"_blank",rel:"noopener noreferrer"},Q={href:"http://zhishidi.imwork.net/job/jenkinsSpringBootDemo/build?token=token_demo2",target:"_blank",rel:"noopener noreferrer"},U={href:"https://github.com/processfactory/demo01.git",target:"_blank",rel:"noopener noreferrer"};function Y(q,n){const e=o("ExternalLinkIcon");return r(),l("div",null,[n[14]||(n[14]=p('<h2 id="_1-背景" tabindex="-1"><a class="header-anchor" href="#_1-背景"><span>1.背景</span></a></h2><p>在实际开发中，我们经常要一边开发一边测试，当然这里说的测试并不是程序员对自己代码的单元测试，而是同组程序员将代码提交后，由测试人员测试；</p><p>或者前后端分离后，经常会修改接口，然后重新部署；</p><p>这些情况都会涉及到频繁的打包部署；</p><p>手动打包常规步骤：</p><ul><li>1.提交代码</li><li>2.问一下同组小伙伴有没有要提交的代码</li><li>3.拉取代码并打包（war包，或者jar包）</li><li>4.上传到Linux服务器</li><li>5.查看当前程序是否在运行</li><li>6.关闭当前程序</li><li>7.启动新的jar包</li><li>8.观察日志看是否启动成功</li><li>9.如果有同事说，自己还有代码没有提交......再次重复1到8的步骤！！！！！（一上午没了）</li></ul><p>那么，有一种工具能够实现，将代码提交到git后就自动打包部署勒，答案是肯定的：Jenkins</p><p>当然除了Jenkins以外，也还有其他的工具可以实现自动化部署，如Hudson等</p><p>只是Jenkins相对来说，使用得更广泛。</p><h2 id="_2-jenkins服务器搭建及基本配置" tabindex="-1"><a class="header-anchor" href="#_2-jenkins服务器搭建及基本配置"><span>2.Jenkins服务器搭建及基本配置</span></a></h2><h3 id="_2-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-1-简介"><span>2.1.简介</span></a></h3><p>Jenkins是一个开源软件项目，是基于Java开发的一种持续集成工具，用于监控持续重复的工作，旨在提供一个开放易用的软件平台，使软件的持续集成变成可能。</p><h3 id="_2-2-jenkins自动化部署实现原理" tabindex="-1"><a class="header-anchor" href="#_2-2-jenkins自动化部署实现原理"><span>2.2.Jenkins自动化部署实现原理</span></a></h3><figure><img src="'+g+'" alt="img_70.png" tabindex="0" loading="lazy"><figcaption>img_70.png</figcaption></figure><h3 id="_2-3-jenkins部署环境" tabindex="-1"><a class="header-anchor" href="#_2-3-jenkins部署环境"><span>2.3.Jenkins部署环境</span></a></h3><p>基本环境：</p><ul><li>1.jdk环境，Jenkins是java语言开发的，因需要jdk环境。</li><li>2.git/svn客户端，因一般代码是放在git/svn服务器上的，我们需要拉取代码。</li><li>3.maven客户端，因一般java程序是由maven工程，需要maven打包，当然也有其他打包方式，如：gradle</li></ul><p>以上是自动化部署java程序jenkins需要的基本环境，请自己提前安装好，下面着重讲解Jenkins的安装部署配置。</p><h3 id="_2-4-jenkins安装" tabindex="-1"><a class="header-anchor" href="#_2-4-jenkins安装"><span>2.4.Jenkins安装</span></a></h3>',19)),s("ul",null,[n[3]||(n[3]=s("li",null,"1.下载安装包jenkins.war；",-1)),n[4]||(n[4]=s("li",null,"2.在安装包根路径下，运行命令 java -jar jenkins.war --httpPort=8080，（linux环境、Windows环境都一样）； 补充:一个童鞋遇到的问题,反馈说,git自动触发时报错403,启动加如下参数可以解决问题 nohup java -jar -Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=true /usr/local/jenkins/jenkins.war --httpPort=8080 &",-1)),s("li",null,[n[1]||(n[1]=a("3.打开浏览器进入链接 ")),s("a",C,[n[0]||(n[0]=a("http://localhost:8080")),i(e)]),n[2]||(n[2]=a("."))]),n[5]||(n[5]=s("li",null,"4.填写初始密码，激活系统",-1))]),n[15]||(n[15]=p('<figure><img src="'+c+'" alt="img_71.png" tabindex="0" loading="lazy"><figcaption>img_71.png</figcaption></figure><ul><li>5.进入插件安装选择</li></ul><p>这里建议选择，推荐安装的插件，保证基本常用的功能可以使用。</p><figure><img src="'+d+'" alt="img_72.png" tabindex="0" loading="lazy"><figcaption>img_72.png</figcaption></figure><p>选择后，进入插件安装页面<br><img src="'+m+'" alt="img_73.png" loading="lazy"></p><ul><li><p>6.设置初始用户和密码<br><img src="'+u+'" alt="img_74.png" loading="lazy"></p></li><li><p>7.进入系统，安装完成<br><img src="'+k+'" alt="img_75.png" loading="lazy"></p></li></ul><p>注意，如果还是进入不了系统，需要稍等一下，或者刷新页面，如果还是进入不了，需要重新启动jenkinds服务器。</p><h3 id="_2-5-jenkins基本配置" tabindex="-1"><a class="header-anchor" href="#_2-5-jenkins基本配置"><span>2.5.Jenkins基本配置</span></a></h3><h4 id="_2-5-1-系统初始化配置" tabindex="-1"><a class="header-anchor" href="#_2-5-1-系统初始化配置"><span>2.5.1.系统初始化配置</span></a></h4><figure><img src="'+A+'" alt="img_76.png" tabindex="0" loading="lazy"><figcaption>img_76.png</figcaption></figure><p><strong>1.Configure System (系统设置)</strong></p><p>在系统设置这里，我们只需要设置最后面的一项，配置远程服务器地址，</p><p>即我们代码最终运行的服务器地址信息，就像我们之前手动部署时使用xshell登录Linux服务器一样，</p><p>当然这里是可以配置多台远程Linux服务器的，配置完成后点击保存即可，为后面我们配置自动化部署做准备，配置如下图<br><img src="'+f+'" alt="img_77.png" loading="lazy"></p><p><strong>2.Configure Global Security (全局安全配置)</strong></p><p>a.配置用户相关的权限</p><figure><img src="'+h+'" alt="img_78.png" tabindex="0" loading="lazy"><figcaption>img_78.png</figcaption></figure><p>b.配置钩子程序（当用代码更新时通知）访问权限，避免报403错误</p><p>默认是勾选上了的，这里去掉勾选</p><figure><img src="'+b+'" alt="img_79.png" tabindex="0" loading="lazy"><figcaption>img_79.png</figcaption></figure><p><strong>3.Global Tool Configuration (全局工具配置 )</strong></p><p>a.配置maven的全局settings路径<br><img src="'+v+'" alt="img_80.png" loading="lazy"></p><p>b.配置jdk<br><img src="'+_+'" alt="img_81.png" loading="lazy"></p><p>c.配置git</p><figure><img src="'+j+'" alt="img_82.png" tabindex="0" loading="lazy"><figcaption>img_82.png</figcaption></figure><p>d.配置maven的安装路径</p><figure><img src="'+x+'" alt="img_83.png" tabindex="0" loading="lazy"><figcaption>img_83.png</figcaption></figure><p><strong>4.配置必要插件</strong></p><p>主要是检查如下这两个插件是否已安装</p><ul><li>插件1：Publish over SSH</li><li>插件2：Deploy to container Plugin</li></ul><figure><img src="'+y+'" alt="img_84.png" tabindex="0" loading="lazy"><figcaption>img_84.png</figcaption></figure><p>添加图片注释，不超过 140 字（可选）</p><p>到这里，我们配置一个自动化部署的的java程序（springBoot+maven+gitHub），基本必要配置就差不多了，后面配置过程中如果需要在配置。</p><h2 id="_3-jenkins自动化部署-springboot-maven-github-项目" tabindex="-1"><a class="header-anchor" href="#_3-jenkins自动化部署-springboot-maven-github-项目"><span>3.Jenkins自动化部署（springBoot+maven+gitHub）项目</span></a></h2><h3 id="_3-1-jenkins服务器上创建项目和配置" tabindex="-1"><a class="header-anchor" href="#_3-1-jenkins服务器上创建项目和配置"><span>3.1.Jenkins服务器上创建项目和配置</span></a></h3><p>大体步骤：General(基础配置)--》源码管理--》构建触发器--》构建环境--》构建--》构建后操作</p><p><strong>1.创建一个工程</strong></p><figure><img src="'+P+'" alt="img_85.png" tabindex="0" loading="lazy"><figcaption>img_85.png</figcaption></figure><p><strong>2.General(基础配置)</strong></p><p>仅需填写标准部分，其他可不填写</p><figure><img src="'+J+'" alt="img_86.png" tabindex="0" loading="lazy"><figcaption>img_86.png</figcaption></figure><p><strong>3.源码管理</strong><br><img src="'+D+'" alt="img_87.png" loading="lazy"></p><p>上图中点击“添加”按钮添加一组账号和密码<br><img src="'+z+'" alt="img_88.png" loading="lazy"></p><p><strong>4.构建触发器</strong></p><figure><img src="'+T+'" alt="img_89.png" tabindex="0" loading="lazy"><figcaption>img_89.png</figcaption></figure><p>如上图：当前项目的回调地址为：</p>',46)),s("p",null,[s("a",M,[n[6]||(n[6]=a("http://localhost:8080/job/jenkinsSpringBootDemo/build?token=token_demo2")),i(e)])]),n[16]||(n[16]=p('<p>只要执行这个地址（在浏览器上访问改地址），该项目就会发起一次构建项目，即拉取代码打包部署操作，</p><p>在实际中，是由git服务器回调改地址，在后面讲git服务器配置时详细讲解 ，</p><p>值得注意的是，如果你是学习测试，使用的是GitHub服务，要确保你的回调地址已经试外网映射过的，即往外网可以访问</p><p><strong>5.构建环境（无需配置）</strong></p><p><strong>6.构建</strong></p><figure><img src="'+B+'" alt="img_90.png" tabindex="0" loading="lazy"><figcaption>img_90.png</figcaption></figure><p><strong>7.构建后操作</strong></p><p>构建后操作的意思是，jar打包好后，要将jar发送到哪里去，发送后去和启动等</p><p>这里需要提前在需要部署的服务器上配置好路径，写好启动和停止项目的脚本，并设置为可以执行的脚本，</p><p>其实就是我们平时在Linux上手动部署项目操作的脚本<br><img src="'+S+`" alt="img_91.png" loading="lazy"></p><p>案例中给出的stop.sh脚本如下：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token number">1</span> #<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span class="token number">2</span> echo <span class="token string">&quot;Stop Procedure : demo2-0.0.1-SNAPSHOT.jar&quot;</span>
<span class="token number">3</span> pid<span class="token operator">=</span>\`ps <span class="token operator">-</span>ef <span class="token operator">|</span>grep java<span class="token operator">|</span>grep demo2<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token punctuation">.</span>jar<span class="token operator">|</span>awk &#39;<span class="token punctuation">{</span>print $<span class="token number">2</span><span class="token punctuation">}</span>&#39;\`
<span class="token number">4</span> echo &#39;old <span class="token class-name">Procedure</span> pid<span class="token operator">:</span>&#39;$pid
<span class="token number">5</span> <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">-</span>n <span class="token string">&quot;$pid&quot;</span> <span class="token punctuation">]</span>
<span class="token number">6</span> then
<span class="token number">7</span> kill <span class="token operator">-</span><span class="token number">9</span> $pid
<span class="token number">8</span> fi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>案例中给出的start.sh脚本如下：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>        <span class="token number">1</span> #<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>bash
        <span class="token number">2</span> export <span class="token constant">JAVA_HOME</span><span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>java<span class="token operator">/</span>jdk1<span class="token punctuation">.</span><span class="token number">8.0_131</span>
        <span class="token number">3</span> echo $<span class="token punctuation">{</span><span class="token constant">JAVA_HOME</span><span class="token punctuation">}</span>
        <span class="token number">4</span> echo &#39;<span class="token class-name">Start</span> the program <span class="token operator">:</span> demo2<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token punctuation">.</span>jar&#39;
        <span class="token number">5</span> chmod <span class="token number">777</span> <span class="token operator">/</span>home<span class="token operator">/</span>ldp<span class="token operator">/</span>app<span class="token operator">/</span>demo2<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token punctuation">.</span>jar
        <span class="token number">6</span> echo &#39;<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token class-name">Starting</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>&#39;
        <span class="token number">7</span> cd <span class="token operator">/</span>home<span class="token operator">/</span>ldp<span class="token operator">/</span>app<span class="token operator">/</span>
        <span class="token number">8</span> nohup $<span class="token punctuation">{</span><span class="token constant">JAVA_HOME</span><span class="token punctuation">}</span><span class="token operator">/</span>bin<span class="token operator">/</span>java <span class="token operator">-</span>jar demo2<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token punctuation">.</span>jar <span class="token operator">&amp;</span>
        <span class="token number">9</span> echo &#39;start success&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>到此，Jenkinds服务器配置完成，接下来我还有要配置Linux服务器和Git服务器。</p><h3 id="_3-2-linux服务器配置" tabindex="-1"><a class="header-anchor" href="#_3-2-linux服务器配置"><span>3.2.Linux服务器配置</span></a></h3><p>在Liux服务上，上传上文中的两个脚本，用于启动和停止</p><figure><img src="`+H+'" alt="img_92.png" tabindex="0" loading="lazy"><figcaption>img_92.png</figcaption></figure><h3 id="_3-3-github服务器配置" tabindex="-1"><a class="header-anchor" href="#_3-3-github服务器配置"><span>3.3.GitHub服务器配置</span></a></h3><p>在GitHub服务器上的指定项目里面配置上文中提到的回调地址</p><p>特别注意：为了保证回调地址网可以使用，</p>',21)),s("p",null,[n[8]||(n[8]=a("我已经将地址：")),s("a",R,[n[7]||(n[7]=a("http://localhost:8080/job/jenkinsSpringBootDemo/build?token=token_demo2，")),i(e)])]),s("p",null,[n[10]||(n[10]=a("通过花生壳进行外网映射为：")),s("a",Q,[n[9]||(n[9]=a("http://zhishidi.imwork.net/job/jenkinsSpringBootDemo/build?token=token_demo2")),i(e)])]),n[17]||(n[17]=p('<p>所以，下面配置的是外网映射地址。</p><figure><img src="'+X+'" alt="img_93.png" tabindex="0" loading="lazy"><figcaption>img_93.png</figcaption></figure><p>到这里所有配置搞定，只需修改代码，提交到git,然后访问程序看是否生效。</p><h2 id="_4-测试" tabindex="-1"><a class="header-anchor" href="#_4-测试"><span>4.测试</span></a></h2><p><strong>1.测试代码</strong><br><img src="'+O+'" alt="img_94.png" loading="lazy"></p><p><strong>2.提交代码到git,触发构建</strong></p><p><strong>3.在GitHub服务器上去看，是否已经触发</strong><br><img src="'+L+'" alt="img_95.png" loading="lazy"></p><p><strong>4.在Jenkins的控制台查看是否，正在构建</strong></p><p>从下图中可以看出，正在构建</p><figure><img src="'+w+'" alt="img_96.png" tabindex="0" loading="lazy"><figcaption>img_96.png</figcaption></figure><p><strong>5.查看当次构建的控制台日志</strong></p><figure><img src="'+I+'" alt="img_97.png" tabindex="0" loading="lazy"><figcaption>img_97.png</figcaption></figure><p>说明已经启动成功</p><p><strong>6.查看Linux服务器，是否上传代码</strong></p><figure><img src="'+Z+'" alt="img_98.png" tabindex="0" loading="lazy"><figcaption>img_98.png</figcaption></figure><p><strong>7.在Linux上使用命令jps，查看是否启动</strong></p><figure><img src="'+E+'" alt="img_99.png" tabindex="0" loading="lazy"><figcaption>img_99.png</figcaption></figure><p><strong>8.浏览器上访问，看是否能用</strong></p><figure><img src="'+G+'" alt="img_100.png" tabindex="0" loading="lazy"><figcaption>img_100.png</figcaption></figure><p>说明，已经正常启动可以使用。</p><p><strong>9.再次确认是否能自动化部署</strong></p><p>修改代码，重新提交代码，循环1到8步查看。</p><p>如果测试结果是你预期的，那么自动化部署成功。</p><h2 id="_5-总结-资料下载" tabindex="-1"><a class="header-anchor" href="#_5-总结-资料下载"><span>5.总结&amp;资料下载</span></a></h2><h3 id="_5-1-总结" tabindex="-1"><a class="header-anchor" href="#_5-1-总结"><span>5.1.总结</span></a></h3><p>自动化部署Jenkins，作为一款工具，有着非常强大的功能，</p><p>上面我们只是讲了生产上做Java自动化部署的一个主要流程，</p><p>其他的功能，大家可以参看官方文档：Jenkins 用户手册</p><p>但是，本着学习是为了解决生产的原则，</p><p>个人建议，用到Jenkins的什么功能就学什么就可以了，</p><p>没必要把Jenkins的所有功能都学完在使用，</p><p>就如同我们使用word文档一样，并没有系统的他word文档学完后，在开始使用，而是用到什么功能就学习什么功能！</p><h3 id="_5-2-相关资料" tabindex="-1"><a class="header-anchor" href="#_5-2-相关资料"><span>5.2.相关资料</span></a></h3>',33)),s("ul",null,[s("li",null,[n[12]||(n[12]=a("1.案例中的源码地址：")),s("a",U,[n[11]||(n[11]=a("https://github.com/processfactory/demo01.git")),i(e)])]),n[13]||(n[13]=s("li",null,"2.官方文档：Jenkins 用户手册",-1))])])}const V=t(N,[["render",Y],["__file","jenkins.html.vue"]]),K=JSON.parse('{"path":"/assembly/jenkins.html","title":"组件Jenkins","lang":"zh-CN","frontmatter":{"title":"组件Jenkins","icon":"laptop-code","category":["设计组件"],"tag":["组件"],"description":"1.背景 在实际开发中，我们经常要一边开发一边测试，当然这里说的测试并不是程序员对自己代码的单元测试，而是同组程序员将代码提交后，由测试人员测试； 或者前后端分离后，经常会修改接口，然后重新部署； 这些情况都会涉及到频繁的打包部署； 手动打包常规步骤： 1.提交代码 2.问一下同组小伙伴有没有要提交的代码 3.拉取代码并打包（war包，或者jar包） ...","head":[["meta",{"property":"og:url","content":"https://ujava.cn/assembly/jenkins.html"}],["meta",{"property":"og:site_name","content":"UJava"}],["meta",{"property":"og:title","content":"组件Jenkins"}],["meta",{"property":"og:description","content":"1.背景 在实际开发中，我们经常要一边开发一边测试，当然这里说的测试并不是程序员对自己代码的单元测试，而是同组程序员将代码提交后，由测试人员测试； 或者前后端分离后，经常会修改接口，然后重新部署； 这些情况都会涉及到频繁的打包部署； 手动打包常规步骤： 1.提交代码 2.问一下同组小伙伴有没有要提交的代码 3.拉取代码并打包（war包，或者jar包） ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-15T03:42:50.000Z"}],["meta",{"property":"article:author","content":"UJava"}],["meta",{"property":"article:tag","content":"组件"}],["meta",{"property":"article:modified_time","content":"2024-04-15T03:42:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"组件Jenkins\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-15T03:42:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"UJava\\",\\"url\\":\\"https://ujava.cn/article/\\"}]}"]]},"headers":[{"level":2,"title":"1.背景","slug":"_1-背景","link":"#_1-背景","children":[]},{"level":2,"title":"2.Jenkins服务器搭建及基本配置","slug":"_2-jenkins服务器搭建及基本配置","link":"#_2-jenkins服务器搭建及基本配置","children":[{"level":3,"title":"2.1.简介","slug":"_2-1-简介","link":"#_2-1-简介","children":[]},{"level":3,"title":"2.2.Jenkins自动化部署实现原理","slug":"_2-2-jenkins自动化部署实现原理","link":"#_2-2-jenkins自动化部署实现原理","children":[]},{"level":3,"title":"2.3.Jenkins部署环境","slug":"_2-3-jenkins部署环境","link":"#_2-3-jenkins部署环境","children":[]},{"level":3,"title":"2.4.Jenkins安装","slug":"_2-4-jenkins安装","link":"#_2-4-jenkins安装","children":[]},{"level":3,"title":"2.5.Jenkins基本配置","slug":"_2-5-jenkins基本配置","link":"#_2-5-jenkins基本配置","children":[]}]},{"level":2,"title":"3.Jenkins自动化部署（springBoot+maven+gitHub）项目","slug":"_3-jenkins自动化部署-springboot-maven-github-项目","link":"#_3-jenkins自动化部署-springboot-maven-github-项目","children":[{"level":3,"title":"3.1.Jenkins服务器上创建项目和配置","slug":"_3-1-jenkins服务器上创建项目和配置","link":"#_3-1-jenkins服务器上创建项目和配置","children":[]},{"level":3,"title":"3.2.Linux服务器配置","slug":"_3-2-linux服务器配置","link":"#_3-2-linux服务器配置","children":[]},{"level":3,"title":"3.3.GitHub服务器配置","slug":"_3-3-github服务器配置","link":"#_3-3-github服务器配置","children":[]}]},{"level":2,"title":"4.测试","slug":"_4-测试","link":"#_4-测试","children":[]},{"level":2,"title":"5.总结&资料下载","slug":"_5-总结-资料下载","link":"#_5-总结-资料下载","children":[{"level":3,"title":"5.1.总结","slug":"_5-1-总结","link":"#_5-1-总结","children":[]},{"level":3,"title":"5.2.相关资料","slug":"_5-2-相关资料","link":"#_5-2-相关资料","children":[]}]}],"git":{"createdTime":1713151551000,"updatedTime":1713152570000,"contributors":[{"name":"yangchunjian","email":"1091938307@qq.com","commits":2}]},"readingTime":{"minutes":7.18,"words":2153},"filePathRelative":"assembly/jenkins.md","localizedDate":"2024年4月15日","excerpt":"<h2>1.背景</h2>\\n<p>在实际开发中，我们经常要一边开发一边测试，当然这里说的测试并不是程序员对自己代码的单元测试，而是同组程序员将代码提交后，由测试人员测试；</p>\\n<p>或者前后端分离后，经常会修改接口，然后重新部署；</p>\\n<p>这些情况都会涉及到频繁的打包部署；</p>\\n<p>手动打包常规步骤：</p>\\n<ul>\\n<li>1.提交代码</li>\\n<li>2.问一下同组小伙伴有没有要提交的代码</li>\\n<li>3.拉取代码并打包（war包，或者jar包）</li>\\n<li>4.上传到Linux服务器</li>\\n<li>5.查看当前程序是否在运行</li>\\n<li>6.关闭当前程序</li>\\n<li>7.启动新的jar包</li>\\n<li>8.观察日志看是否启动成功</li>\\n<li>9.如果有同事说，自己还有代码没有提交......再次重复1到8的步骤！！！！！（一上午没了）</li>\\n</ul>","autoDesc":true}');export{V as comp,K as data};
